
:root{
  --maxw: 1100px;
  --text:#111;
  --muted:#555;
  --light:#777;
  --rule:#e6e6e6;
  --link:#1a73e8;
  --bg:#fff;
  --codebg:#f7f7f8;
}
*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  line-height:1.55;
}
a{color:var(--link); text-decoration:none}
a:hover{text-decoration:underline}
.container{max-width:var(--maxw); margin:0 auto; padding:0 18px}

/* hr{border:none; border-top:1px solid var(--rule); margin:22px 0} */
hr{border:none; margin:22px 0}



h1,h2,h3{line-height:1.15; margin:0}
h1{font-size:44px; font-weight:800; letter-spacing:-0.02em}
h2{font-size:28px; font-weight:800; margin-top:26px}
h3{font-size:18px; font-weight:800; margin-top:14px}
p{margin:10px 0}
.small{font-size:14px; color:var(--muted)}
.muted{color:var(--muted)}
.light{color:var(--light)}
.badge{
  display:inline-flex; align-items:center; gap:8px;
  border:1px solid var(--rule);
  padding:6px 10px;
  border-radius:999px;
  font-size:13px;
}
.topbar{
  position:sticky; top:0; z-index:20;
  background:rgba(255,255,255,.92);
  backdrop-filter:saturate(180%) blur(8px);
  border-bottom:1px solid var(--rule);
}
.topbar .row{display:flex; align-items:center; gap:14px; padding:10px 0}
.brand{font-weight:900; letter-spacing:.08em}
.nav{display:flex; gap:14px; flex-wrap:wrap}
.nav a{font-size:13px; color:#222}
.nav a.active{font-weight:800; text-decoration:underline; text-underline-offset:4px}
.spacer{flex:1}
.btn{
  display:inline-flex; align-items:center; gap:8px;
  border:1px solid var(--rule);
  padding:7px 10px; border-radius:10px;
  font-size:13px; color:#111;
}
.btn:hover{background:#fafafa; text-decoration:none}

.hero{padding:26px 0 10px}
.title2{font-size:44px; font-weight:900; letter-spacing:-0.03em}
.subtitle{font-size:18px; color:var(--muted); margin-top:8px; max-width:960px}
.authors{margin-top:12px; font-size:14px; color:#222}
.authors a{color:#222}
.links{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px}
.contentlist{
  padding:0; margin:12px 0 0;
  list-style:none;
  columns:2;
}
.contentlist li{break-inside:avoid; padding:3px 0}
.contentlist a{font-size:14px; color:#222}
@media (max-width:820px){ .contentlist{columns:1} h1,.title2{font-size:34px} }

.media{
  /* border:1px solid var(--rule); */
  border-radius:14px;
  overflow:hidden;
  background:#000;
}
.media video{width:100%; height:auto; display:block}
.media.media-small{background:#fff; display:flex; align-items:center; justify-content:center; padding:10px}
.media.media-small video.small-video{width:60%; max-width:720px; margin:0}
.grid2{display:grid; grid-template-columns:1fr 1fr; gap:14px}
.grid3{display:grid; grid-template-columns:repeat(3,1fr); gap:12px}
@media (max-width:860px){ .grid2{grid-template-columns:1fr} .grid3{grid-template-columns:1fr 1fr} }
@media (max-width:560px){ .grid3{grid-template-columns:1fr} }

.card{
  /* border:1px solid var(--rule); */
  border-radius:14px;
  padding:14px;
}
.caption{font-size:13px; color:var(--muted); margin-top:6px}
.kv{display:flex; gap:18px; flex-wrap:wrap; margin-top:10px}
.kv .item{min-width:220px}
.kv .k{font-size:12px; color:var(--light); text-transform:uppercase; letter-spacing:.08em}
.kv .v{font-size:14px; color:#111; margin-top:4px}

details{border:1px solid var(--rule); border-radius:14px; padding:10px 12px; background:#fff}
details summary{cursor:pointer; font-weight:800}
details .content{margin-top:10px}

.code{
  background:var(--codebg);
  border:1px solid var(--rule);
  border-radius:14px;
  padding:12px;
  overflow:auto;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size:12.5px;
  line-height:1.45;
}
.copybtn{
  margin-left:auto;
  display:inline-flex; align-items:center; gap:8px;
  border:1px solid var(--rule);
  padding:6px 10px;
  border-radius:10px;
  font-size:12px;
  cursor:pointer;
}
.copybtn:hover{background:#fafafa}

/* Charts */
.toolbar{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between; margin:10px 0 10px;}
.controls{display:flex; gap:10px; flex-wrap:wrap; align-items:center;}
.select,.toggle{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:10px; border:1px solid var(--rule); background:#fff; font-size:13px;}
.select select{border:none; outline:none; background:transparent; font-weight:700; color:#111; font-size:13px;}
.toggle input{accent-color: #1a73e8}
.legend{display:flex; gap:10px; flex-wrap:wrap;}
.legend .item{display:flex; align-items:center; gap:8px; font-size:13px; color:var(--muted)}
.swatch{width:12px; height:12px; border-radius:3px; border:1px solid rgba(0,0,0,.12);}
.canvas-wrap{position:relative; width:100%; border-radius:14px; border:1px solid var(--rule); background:#fff; overflow:hidden;}
canvas.chart{width:100%; height:340px; display:block;}
/* Results: three charts side-by-side should be a bit shorter to keep the section compact. */
.results-grid canvas.chart{height:300px;}
@media (max-width:720px){ canvas.chart{height:420px} }
@media (max-width:720px){ .results-grid canvas.chart{height:360px} }
.tooltip{
  position:absolute; pointer-events:none;
  padding:8px 10px; border-radius:10px;
  background: rgba(0,0,0,.86); color:#fff;
  font-size:12px; line-height:1.35;
  border:1px solid rgba(255,255,255,.18);
  opacity:0; transform: translateY(6px);
  transition: opacity .12s ease, transform .12s ease;
  max-width:260px;
}
.tooltip.on{opacity:1; transform: translateY(0)}

.footer{padding:26px 0; color:var(--muted); font-size:13px}
.progress{position:fixed; left:0; top:0; height:2px; z-index:50; width:0%; background: #1a73e8;}

/* ===== Fullscreen hero video (VIRAL-style opening) ===== */
.topbar{
  position:fixed; top:0; left:0; right:0;
  background:transparent;
  backdrop-filter:none;
  border-bottom:1px solid transparent;
  transition: background .18s ease, border-color .18s ease, backdrop-filter .18s ease;
}
.topbar.scrolled{
  background:rgba(255,255,255,.92);
  backdrop-filter:saturate(180%) blur(8px);
  border-bottom:1px solid var(--rule);
}
.hero-video{
  position:relative;
  height:100vh;
  min-height:640px;
  overflow:hidden;
  background:#000;
}
.hero-video video{
  position:absolute; inset:0;
  width:100%; height:100%;
  object-fit:cover;
  filter: contrast(1.02) saturate(1.03);
}
.hero-video::after{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,.45) 0%, rgba(0,0,0,.20) 42%, rgba(0,0,0,.00) 72%, rgba(255,255,255,.90) 100%);
}
/* .hero-overlay{
  position:relative;
  z-index:2;
  height:100%;
  display:flex;
  align-items:flex-end;
  padding: 0 0 36px;
} */


.hero-overlay{
  position:relative;
  z-index:2;
  height:100%;
  display:flex;
  align-items:center;      /* was: flex-end */
  padding: 0;              /* was: 0 0 36px */
}


.hero-overlay .container{width:100%}
.hero-title{
  color:#fff;
  font-size:54px;
  font-weight:900;
  letter-spacing:-0.03em;
  max-width:980px;
}
.hero-subtitle{
  color: rgba(255,255,255,.88);
  font-size:18px;
  max-width:920px;
  margin-top:10px;
}
.hero-meta{margin-top:14px; color: rgba(255,255,255,.86); font-size:18px;}
.hero-affiliations{margin-top:14px; color: rgba(255,255,255,.86); font-size:16px;}

.hero-links{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px}

.hero-links .btn{background: rgba(255,255,255,.92)}

.hero-links .btn:hover{background:#fff}

.hero-actions{display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top:10px}
.pill{
  display:inline-flex; align-items:center; gap:8px;
  border:1px solid rgba(255,255,255,.28);
  color:#fff;
  padding:6px 10px;
  border-radius:999px;
  font-size:13px;
  background: rgba(0,0,0,.25);
}
.iconbtn{
  display:inline-flex; align-items:center; gap:8px;
  border:1px solid rgba(255,255,255,.30);
  color:#fff;
  padding:7px 10px;
  border-radius:12px;
  font-size:13px;
  background: rgba(0,0,0,.25);
  cursor:pointer;
}
.iconbtn:hover{background: rgba(0,0,0,.34)}
.scrollhint{
  position:absolute;
  left:50%;
  bottom:14px;
  transform:translateX(-50%);
  z-index:3;
  display:flex; flex-direction:column; align-items:center; gap:6px;
  color: rgba(255,255,255,.85);
  font-size:12px;
  letter-spacing:.10em;
  text-transform:uppercase;
  pointer-events:none;
}
.chevdown{
  width:18px; height:18px;
  border-right:2px solid rgba(255,255,255,.85);
  border-bottom:2px solid rgba(255,255,255,.85);
  transform: rotate(45deg);
  animation: bob 1.6s ease-in-out infinite;
}
@keyframes bob{
  0%,100%{transform: translateY(0) rotate(45deg)}
  50%{transform: translateY(6px) rotate(45deg)}
}
.mainwrap{padding-top:0}
@media (max-width:820px){
  .hero-title{font-size:38px}
  .hero-video{min-height:560px}
}

/* ===== Hero scroll parallax & fade ===== */
.hero-video{will-change: transform}
.hero-video video{will-change: transform, filter}
.hero-overlay{will-change: opacity, transform}
.hero-dim{
  position:absolute; inset:0; z-index:1;
  background: rgba(0,0,0,.0);
  transition: background .18s ease;
  pointer-events:none;
}
/* .hero-overlay-inner{
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 18px;
} */
.hero-overlay-inner{
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 18px;
  transform: translateY(10vh);   /* move text upward */
}


.hero-overlay .container{display:none} /* old v6 container hidden */
.hero-title.hide-title{
  opacity:0 !important;
  transform: translateY(10px) !important;
  pointer-events:none;
}
.hero-title, .hero-subtitle, .hero-meta, .hero-links, .hero-actions{
  transition: opacity .18s ease, transform .18s ease;
}

/* ===== Visual sections ===== */
.section-title{
  font-size:32px;
  font-weight:900;
  letter-spacing:-0.02em;
  margin-top:0;
}
.section-lead{
  font-size:16px;
  color:var(--muted);
  max-width:900px;
}
.bigcard{
  border:1px solid var(--rule);
  border-radius:18px;
  padding:18px;
  background:#fff;
}
.gallery{
  display:grid;
  grid-template-columns: 1.2fr .8fr;
  gap:14px;
}
@media (max-width:900px){ .gallery{grid-template-columns:1fr} }
.figure{
  border:1px solid var(--rule);
  border-radius:16px;
  overflow:hidden;
  background: linear-gradient(180deg, #fafafa, #ffffff);
}
.figure .ph{
  height:320px;
  display:flex;
  align-items:center;
  justify-content:center;
  color: rgba(0,0,0,.35);
  font-weight:800;
  letter-spacing:.08em;
  text-transform:uppercase;
}
.figure.small .ph{height:180px}
.figure .cap{padding:10px 12px; font-size:13px; color:var(--muted); border-top:1px solid var(--rule)}
.kpi-row{display:grid; grid-template-columns:repeat(3,1fr); gap:10px; margin-top:12px}
@media (max-width:860px){ .kpi-row{grid-template-columns:1fr} }
.kpi{
  border:1px solid var(--rule);
  border-radius:14px;
  padding:12px 14px;
  background:#fff;
}
.kpi .k{font-size:12px; color:var(--light); text-transform:uppercase; letter-spacing:.10em}
.kpi .v{font-size:22px; font-weight:900; margin-top:6px}
.kpi .d{font-size:13px; color:var(--muted); margin-top:4px}

/* ===== Interactive compositional module ===== */
.interactive{
  display:grid;
  grid-template-columns: .95fr 1.05fr;
  gap:14px;
  align-items:start;
}
@media (max-width:920px){ .interactive{grid-template-columns:1fr} }
.uploadbox{
  border:1px dashed rgba(0,0,0,.22);
  border-radius:16px;
  padding:14px;
  background: #fff;
}
.uploadbox .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
.input{
  width:100%;
  border:1px solid var(--rule);
  border-radius:12px;
  padding:10px 12px;
  font-size:14px;
  outline:none;
}
.thumbgrid{display:grid; grid-template-columns:repeat(4,1fr); gap:8px; margin-top:10px}
@media (max-width:560px){ .thumbgrid{grid-template-columns:repeat(2,1fr)} }
.thumb{
  border:1px solid var(--rule);
  border-radius:12px;
  padding:10px;
  background:#fff;
  cursor:pointer;
  display:flex; align-items:center; justify-content:center;
  height:64px;
  font-size:12px;
  color:rgba(0,0,0,.55);
}
.thumb.active{outline:2px solid rgba(26,115,232,.55)}
.preview{
  margin-top:10px;
  border:1px solid var(--rule);
  border-radius:14px;
  overflow:hidden;
  background:#fff;
}
.preview img{
  width:100%;
  height:260px;
  object-fit:cover;
  display:block;
}
.stepper{
  border:1px solid var(--rule);
  border-radius:18px;
  background:#fff;
  overflow:hidden;
}
.steps{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  border-bottom:1px solid var(--rule);
}
@media (max-width:820px){ .steps{grid-template-columns:1fr 1fr} }
.step{
  padding:10px 12px;
  cursor:pointer;
  font-size:13px;
  color:rgba(0,0,0,.75);
  background:#fff;
}
.step b{display:block; font-size:13px}
.step span{display:block; font-size:12px; color:var(--muted); margin-top:2px}
.step.active{background: rgba(26,115,232,.08);}
.step-content{padding:14px 14px 16px;}
.pipe{
  margin-top:12px;
  border:1px solid var(--rule);
  border-radius:16px;
  padding:12px;
  background: linear-gradient(180deg, #fbfbfb, #fff);
}
.pipe svg{width:100%; height:auto; display:block}
.runrow{display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-top:10px}
.pulse{
  display:inline-block;
  width:10px; height:10px;
  border-radius:999px;
  background: rgba(26,115,232,.85);
  box-shadow: 0 0 0 0 rgba(26,115,232,.45);
  animation: pulse 1.4s infinite;
}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(26,115,232,.45)}
  70%{box-shadow:0 0 0 10px rgba(26,115,232,0)}
  100%{box-shadow:0 0 0 0 rgba(26,115,232,0)}
}

.ablation-grid canvas.chart{height:260px;}
@media (max-width:980px){ .ablation-grid{grid-template-columns:1fr;} .ablation-grid canvas.chart{height:300px;} }

/* --- Demo rotator (3-task cinematic layout) --- */
.demo-rotator-wrap{position:relative;height:150vh}
.demo-rotator-sticky{position:sticky;top:72px;height:78vh;display:flex;align-items:center;overflow:hidden}
.demo-rotator{position:relative;width:100%;height:100%}
.demo-card{position:absolute;top:50%;left:50%;width:min(68vw,980px);transform:translate(-50%,-50%) scale(.70);opacity:.28;filter:saturate(.72) brightness(.58) blur(.6px);transition:transform .82s cubic-bezier(.22,.61,.36,1),opacity .55s ease,filter .55s ease,box-shadow .55s ease;z-index:1;pointer-events:none}
/* .demo-card .media{border-radius:22px;box-shadow:0 18px 45px rgba(0,0,0,.30);border:2px solid rgba(120,140,170,.18);overflow:hidden;background:#000} */

.demo-card .media{
  border-radius:22px;
  box-shadow:0 18px 45px rgba(0,0,0,.30);
  border:none;          /* 去掉描边 */
  overflow:hidden;
  background:transparent; /* 去掉黑底 */
}
.demo-card .media video{display:block;width:100%;aspect-ratio:16/9;object-fit:cover}
.demo-card .caption{text-align:center;margin-top:10px;font-weight:700;opacity:.95}
.demo-card.is-active{transform:translate(-50%,-50%) scale(1.06);opacity:1;filter:saturate(1.04) brightness(1.04) blur(0);z-index:3;pointer-events:auto}
.demo-card.is-left{transform:translate(calc(-50% - min(31vw,430px)),-50%) scale(.70) rotateY(10deg);opacity:.30;z-index:2}
.demo-card.is-right{transform:translate(calc(-50% + min(31vw,430px)),-50%) scale(.70) rotateY(-10deg);opacity:.30;z-index:2}
@media (max-width: 1024px){
  .demo-rotator-wrap{height:140vh}
  .demo-rotator-sticky{height:72vh}
  .demo-card{width:min(84vw,760px)}
  .demo-card.is-left{transform:translate(calc(-50% - 22vw),-50%) scale(.76)}
  .demo-card.is-right{transform:translate(calc(-50% + 22vw),-50%) scale(.76)}
}
@media (max-width: 720px){
  .demo-rotator-wrap{height:auto}
  .demo-rotator-sticky{position:static;height:auto;display:grid;gap:14px}
  .demo-rotator{display:grid;gap:14px;height:auto}
  .demo-card,.demo-card.is-active,.demo-card.is-left,.demo-card.is-right{position:relative;top:auto;left:auto;transform:none;width:100%;opacity:1;filter:none;pointer-events:auto}
}

.demo-card.is-active .media{box-shadow:0 26px 64px rgba(0,0,0,.36),0 0 0 1px rgba(255,255,255,.16) inset}
.demo-rotator.is-switching .demo-card{filter:saturate(.68) brightness(.54) blur(1.1px)}
.demo-rotator.is-switching .demo-card.is-active{filter:saturate(1.02) brightness(1.02) blur(.2px)}

const track7data = [
    {
        team: "LGmap",
        primary: "0.6600",
        metric1: "0.5074",
        metric2: "0.5557",
        country: "CN",
        institution: "Langge Technology<br>朗歌科技",
        award: "blub, rank01",
        disqualified: false,
        links: ""
    },
    {
        team: "XIAOMIEV",
        primary: "0.6391",
        metric1: "0.4998",
        metric2: "0.4980",
        country: "CN",
        institution: "Xiaomi<br>小米",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "CrazyFriday",
        primary: "0.6281",
        metric1: "0.4994",
        metric2: "0.4638",
        country: "CN",
        institution: "Beijing Institute of Technology / MEGVII<br>北京理工大学 / 旷视科技",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "real_last_time_CR",
        primary: "0.5927",
        metric1: "0.4181",
        metric2: "0.5159",
        country: "DE",
        institution: "Bosch / Tsinghua University",
        award: "blank",
        disqualified: true,
        links: ""
    },
    {
        team: "Victoryv2",
        primary: "0.5886",
        metric1: "0.4187",
        metric2: "0.4438",
        country: "US",
        institution: "AMD",
        award: "blank",
        disqualified: true,
        links: ""
    },
    {
        team: "mapvision",
        primary: "0.5806",
        metric1: "0.3929",
        metric2: "0.3990",
        country: "CN",
        institution: "Didi Chuxing<br>滴滴出行",
        award: "blank",
        disqualified: true,
        links: ""
    },
    // {
    //     team: "\u3068\u304f\u3081\u3044",
    //     primary: "0.5700",
    //     metric1: "0.3937",
    //     metric2: "0.3843",
    //     country: "-",
    //     institution: "-",
    //     award: "blank",
    //     disqualified: true,
    //     links: ""
    // },
    {
        team: "ethan",
        primary: "0.5673",
        metric1: "0.3982",
        metric2: "0.3472",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: true,
        links: ""
    },
    {
        team: "Sonic",
        primary: "0.5668",
        metric1: "0.3934",
        metric2: "0.4150",
        country: "DE",
        institution: "TUM / University of Stuttgart",
        award: "blank",
        disqualified: false,
        links: ""
    },
    // {
    //     team: "gdives",
    //     primary: "0.5645",
    //     metric1: "0.4225",
    //     metric2: "0.3472",
    //     country: "-",
    //     institution: "-",
    //     award: "blank",
    //     disqualified: true,
    //     links: ""
    // },
    {
        team: "yehaiy",
        primary: "0.5588",
        metric1: "0.4225",
        metric2: "0.3200",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "no_name",
        primary: "0.5391",
        metric1: "0.3904",
        metric2: "0.3238",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "Zzz0918",
        primary: "0.5320",
        metric1: "0.3875",
        metric2: "0.2747",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "supertopk",
        primary: "0.5164",
        metric1: "0.3874",
        metric2: "0.2964",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "superddr",
        primary: "0.5164",
        metric1: "0.3874",
        metric2: "0.2964",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "AgriculturalTractor",
        primary: "0.5161",
        metric1: "0.4036",
        metric2: "0.2153",
        country: "CN",
        institution: "South China Agricultural University<br>华南农业大学",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "supertrainer",
        primary: "0.5149",
        metric1: "0.3874",
        metric2: "0.2964",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "onion",
        primary: "0.5099",
        metric1: "0.3937",
        metric2: "0.3842",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "superbos",
        primary: "0.5044",
        metric1: "0.3874",
        metric2: "0.2964",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "Zzz0918",
        primary: "0.5022",
        metric1: "0.3875",
        metric2: "0.1203",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "wanggl",
        primary: "0.5012",
        metric1: "0.3875",
        metric2: "0.1203",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "doggeee",
        primary: "0.4951",
        metric1: "0.4203",
        metric2: "0.4570",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "fudan-mogo-mapless",
        primary: "0.4943",
        metric1: "0.3826",
        metric2: "0.3851",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "Ceyho",
        primary: "0.4915",
        metric1: "0.4033",
        metric2: "0.0000",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "hm.unilab",
        primary: "0.4818",
        metric1: "0.3853",
        metric2: "0.2525",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "cnzzx",
        primary: "0.4528",
        metric1: "0.3667",
        metric2: "0.3788",
        country: "CN",
        institution: "Beijing Institute of Technology<br>北京理工大学",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "Zzz222",
        primary: "0.4411",
        metric1: "0.3467",
        metric2: "0.2713",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "tedss",
        primary: "0.4277",
        metric1: "0.3439",
        metric2: "0.1929",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "test",
        primary: "0.4272",
        metric1: "0.3335",
        metric2: "0.1750",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: true,
        links: ""
    },
    {
        team: "Neeble",
        primary: "0.4081",
        metric1: "0.4187",
        metric2: "0.0000",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "laneseg",
        primary: "0.3909",
        metric1: "0.2709",
        metric2: "0.1473",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "openred",
        primary: "0.3909",
        metric1: "0.2709",
        metric2: "0.1473",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "HDI-Mapless",
        primary: "0.3825",
        metric1: "0.2729",
        metric2: "0.2335",
        country: "CN",
        institution: "HDI<br>武汉中海庭",     // Unknown Full-name
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "ML4U-HCMUT",
        primary: "0.3759",
        metric1: "0.2990",
        metric2: "0.2367",
        country: "VN",
        institution: "Ho Chi Minh City University of Technology",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "zhao",
        primary: "0.3717",
        metric1: "0.2527",
        metric2: "0.2061",
        country: "CN",
        institution: "Xi'an Jiao Tong University<br>西安交通大学",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "jimmy72",
        primary: "0.3705",
        metric1: "0.2061",
        metric2: "0.4425",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "aiseeker3545",
        primary: "0.3705",
        metric1: "0.2061",
        metric2: "0.4424",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "jiangxb24",
        primary: "0.3657",
        metric1: "0.2061",
        metric2: "0.4184",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "zhaoye1243",
        primary: "0.1598",
        metric1: "0.0000",
        metric2: "0.0000",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "Eyoahz02",
        primary: "0.1598",
        metric1: "0.0000",
        metric2: "0.0000",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "zhaoye1243fei",
        primary: "0.1598",
        metric1: "0.0000",
        metric2: "0.0000",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "Eyoahz",
        primary: "0.1598",
        metric1: "0.0000",
        metric2: "0.0000",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "vijay6",
        primary: "0.1591",
        metric1: "0.0000",
        metric2: "0.0000",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "Eyoahz01",
        primary: "0.1580",
        metric1: "0.0000",
        metric2: "0.0000",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "SAdventureS",
        primary: "0.1580",
        metric1: "0.0000",
        metric2: "0.0000",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "SRhythmS",
        primary: "0.1580",
        metric1: "0.0000",
        metric2: "0.0000",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    }
];


let track7sortDirection = "asc";
track7data.sort((a, b) => b.primary - a.primary);
index = 0
track7data.forEach((item, xxx) => {
    if (item.disqualified) {
        item.rank = "*";
    } else {
        item.rank = index + 1;
        index = index + 1;
    }
});



let track7currentPage = 1;
let track7pageSize = 10;
let track7sortColumn = null;



function track7render() {
    const track7tableBody = document.getElementById("track7table");
    track7tableBody.innerHTML = "";
    track7data.slice((track7currentPage - 1) * track7pageSize, track7currentPage * track7pageSize).forEach((item, index) => {
        const row = document.createElement("tr");
        row.innerHTML = `
            <td>${item.rank} <img src="/assets/icon/${item.award}.png" class="inlineimg"/></td>
            <td><img src="/assets/flags/${item.country}.svg" class="inlineimg"/> ${item.country}</td>
            <td>${item.institution}</td>
            <td><b>${item.primary}</b></td>
            <td>${item.team}</td>
            <td>${item.links}</td>
            <td>${item.metric1}</td>
            <td>${item.metric2}</td>
        `;
        track7tableBody.appendChild(row);
    });
    document.getElementById("track7pages").innerHTML = `<b>${track7currentPage} / ${Math.ceil(track7data.length / track7pageSize)}</b>`;

    if (window.innerWidth < 1024) {
        document.getElementById("track7tablefoot").style.width = document.getElementById("track7table").offsetWidth;
    }
}



function track7sort(columnIndex, columnKey) {
    if (track7sortColumn === columnKey) {
        track7sortDirection = track7sortDirection === "asc" ? "desc" : "asc";
    } else {
        track7sortColumn = columnKey;
        track7sortDirection = "asc";
    }
    track7updateSortIcons(columnIndex);
    track7data.sort((a, b) => {
        if (track7sortDirection === "asc") {
            return a[columnKey] - b[columnKey];
        } else {
            return b[columnKey] - a[columnKey];
        }
    });
    track7currentPage = 1;
    track7render();
}



function track7updateSortIcons(columnIndex) {
    const sortIcons = document.querySelectorAll(".track7button");
    sortIcons.forEach((icon, index) => {
        if (index === columnIndex) {
            if (track7sortDirection === "asc") {
                icon.innerHTML = icon.innerHTML.replace("&nbsp;&nbsp;&nbsp;", "▲");
                icon.innerHTML = icon.innerHTML.replace("▼", "▲");
            } else {
                icon.innerHTML = icon.innerHTML.replace("&nbsp;&nbsp;&nbsp;", "▼");
                icon.innerHTML = icon.innerHTML.replace("▲", "▼");
            }
        } else {
            icon.innerHTML = icon.innerHTML.replace("▼", "&nbsp;&nbsp;&nbsp;");
            icon.innerHTML = icon.innerHTML.replace("▲", "&nbsp;&nbsp;&nbsp;");
        }
    });
}



function track7previous() {
    if (track7currentPage > 1) {
        track7currentPage--;
        track7render();
    }
}



function track7next() {
    if (track7currentPage < Math.ceil(track7data.length / track7pageSize)) {
        track7currentPage++;
        track7render();
    }
}

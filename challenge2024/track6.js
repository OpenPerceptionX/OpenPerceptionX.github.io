const track6data = [
    {
        team: "IamCheater",
        primary: "0.8679",
        metric1: "0.7538",
        metric2: "85.3995",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "CPS",
        primary: "0.7799",
        metric1: "0.7861",
        metric2: "64.8120",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "ADLM",
        primary: "0.7759",
        metric1: "0.7597",
        metric2: "64.7224",
        country: "CN",
        institution: "Chongqing Changan Automobile Co. Ltd / Chongqing University of Posts and Telecommunications<br>长安汽车 / 重庆邮电大学",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "momo",
        primary: "0.7668",
        metric1: "0.7602",
        metric2: "62.6748",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "Zoeeeeee",
        primary: "0.7509",
        metric1: "0.7511",
        metric2: "65.9302",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "IEIT-AD",
        primary: "0.7420",
        metric1: "0.7170",
        metric2: "61.2355",
        country: "CN",
        institution: "Tsinghua University<br>清华大学",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "newbie",
        primary: "0.7183",
        metric1: "0.7013",
        metric2: "61.3644",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "yinsen",
        primary: "0.7168",
        metric1: "0.6831",
        metric2: "61.4857",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "Youngluc",
        primary: "0.7165",
        metric1: "0.6831",
        metric2: "61.3000",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "aquila",
        primary: "0.7160",
        metric1: "0.6919",
        metric2: "61.4443",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "Little5Per",
        primary: "0.7095",
        metric1: "0.7294",
        metric2: "64.6506",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "Course Assignment",
        primary: "0.7091",
        metric1: "0.7358",
        metric2: "64.6090",
        country: "CN",
        // institution: "Institute of Software Chinese Academy of Sciences, Nanjing University of Science and Technology, Central South University<br>中国科学院软件研究所、南京理工大学、中南大学",
        institution: "Institute of Software, Chinese Academy of Sciences<br>中国科学院软件研究所",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "flappy_bird",
        primary: "0.7053",
        metric1: "0.6919",
        metric2: "58.6762",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "Automan",
        primary: "0.7045",
        metric1: "0.6919",
        metric2: "58.4867",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "llavaux",
        primary: "0.6778",
        metric1: "0.6793",
        metric2: "56.4965",
        country: "CH",
        institution: "Swiss Federal Institute of Technology in Lausanne",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "lol",
        primary: "0.6744",
        metric1: "0.7558",
        metric2: "62.2205",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "C2AD_DriveLM",
        primary: "0.6567",
        metric1: "0.6586",
        metric2: "67.3572",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: true,
        links: ""
    },
    {
        team: "dudulu66666",
        primary: "0.6541",
        metric1: "0.7567",
        metric2: "59.0882",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "1234asdfadw",
        primary: "0.6535",
        metric1: "0.7567",
        metric2: "59.0377",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "SUSI_Drive",
        primary: "0.6533",
        metric1: "0.7567",
        metric2: "58.9765",
        country: "CN",
        // institution: "Tianjin University, Chinese Academy of Sciences' Institute of Automation, University of Cambridge<br>天津大学、中国科学院自动化研究所、剑桥大学",
        institution: "Tianjin University<br>天津大学",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "nullptr",
        primary: "0.6445",
        metric1: "0.7609",
        metric2: "62.3453",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "UTT",
        primary: "0.6189",
        metric1: "0.7363",
        metric2: "61.5182",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "luciusy",
        primary: "0.6187",
        metric1: "0.6071",
        metric2: "57.8616",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "shufejhli",
        primary: "0.6002",
        metric1: "0.7339",
        metric2: "65.2512",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "IamCheater",
        primary: "0.5984",
        metric1: "0.0000",
        metric2: "99.7990",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "mismayil",
        primary: "0.5947",
        metric1: "0.6962",
        metric2: "60.0369",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "exiawsh",
        primary: "0.5884",
        metric1: "0.7746",
        metric2: "59.8850",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "jhdcm",
        primary: "0.5851",
        metric1: "0.7547",
        metric2: "60.5285",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "MMFM_AD",
        primary: "0.5732",
        metric1: "0.6658",
        metric2: "63.9175",
        country: "DE",
        institution: "Bosch",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "123acbd",
        primary: "0.5706",
        metric1: "0.7464",
        metric2: "59.2303",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "auto2060",
        primary: "0.5691",
        metric1: "0.7268",
        metric2: "64.3112",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "NaNaoi",
        primary: "0.5532",
        metric1: "0.8902",
        metric2: "52.8464",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "SYSU_ZGAD",
        primary: "0.5527",
        metric1: "0.7300",
        metric2: "60.7720",
        country: "CN",
        institution: "Sun Yat-sen University<br>中山大学",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "DriveLLM_eoi",
        primary: "0.5522",
        metric1: "0.7255",
        metric2: "60.8134",
        country: "CN",
        institution: "Chongqing University of Posts and Telecommunications<br>重庆邮电大学",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "StarBurger",
        primary: "0.5513",
        metric1: "0.7567",
        metric2: "58.5338",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "xxfrank",
        primary: "0.5494",
        metric1: "0.7326",
        metric2: "59.8066",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "jian223",
        primary: "0.5489",
        metric1: "0.5948",
        metric2: "64.8924",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "arinaruck",
        primary: "0.5473",
        metric1: "0.7056",
        metric2: "57.9358",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "who3ohw",
        primary: "0.5312",
        metric1: "0.6127",
        metric2: "61.7086",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "YearW",
        primary: "0.5259",
        metric1: "0.6040",
        metric2: "59.8939",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "Astronomy",
        primary: "0.5166",
        metric1: "0.6200",
        metric2: "58.5731",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "BIT-ININ",
        primary: "0.5161",
        metric1: "0.5920",
        metric2: "55.6361",
        country: "CN",
        institution: "Beijing Institute of Technology<br>北京科技大学",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "changchuntzu",
        primary: "0.5128",
        metric1: "0.6471",
        metric2: "53.0234",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "FHY0620",
        primary: "0.5120",
        metric1: "0.6910",
        metric2: "52.0638",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "PhiLM",
        primary: "0.5105",
        metric1: "0.6139",
        metric2: "56.9799",
        country: "HK",
        institution: "Hong Kong University of Science and Technology<br>香港科技大学",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "LISA-UCSD",
        primary: "0.5098",
        metric1: "0.6259",
        metric2: "57.1201",
        country: "US",
        institution: "University of California San Diego",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "transfrom",
        primary: "0.5076",
        metric1: "0.6136",
        metric2: "55.9159",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "ACD",
        primary: "0.5066",
        metric1: "0.6136",
        metric2: "55.6103",
        country: "CN",
        institution: "University of Science and Technology of China<br>中国科学技术大学",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "0417",
        primary: "0.5001",
        metric1: "0.6027",
        metric2: "53.8345",
        country: "CN",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "TUMTraffic",
        primary: "0.4952",
        metric1: "0.5490",
        metric2: "57.1039",
        country: "DE",
        institution: "Technical University of Munich",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "XL-202",
        primary: "0.4920",
        metric1: "0.5865",
        metric2: "52.1285",
        country: "CN",
        institution: "University of Science and Technology Beijing<br>北京科技大学",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "sandwich_bread",
        primary: "0.4898",
        metric1: "0.5886",
        metric2: "51.9278",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: true,
        links: ""
    },
    {
        team: "sandwich_bread",
        primary: "0.4879",
        metric1: "0.5886",
        metric2: "51.5940",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: true,
        links: ""
    },
    {
        team: "Olive_0",
        primary: "0.4029",
        metric1: "0.0209",
        metric2: "59.3986",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "QimingLi",
        primary: "0.4027",
        metric1: "0.0209",
        metric2: "59.3064",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "ft_students_bit",
        primary: "0.3929",
        metric1: "0.1995",
        metric2: "57.5896",
        country: "CN",
        institution: "Beijing Institute of Technology<br>北京理工大学",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "gavin",
        primary: "0.3874",
        metric1: "0.1394",
        metric2: "55.1163",
        country: "CN",
        institution: "Meituan<br>美团",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "others",
        primary: "0.3864",
        metric1: "0.1394",
        metric2: "55.1645",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "ZEROAI",
        primary: "0.3548",
        metric1: "0.2966",
        metric2: "58.2430",
        country: "GB",
        institution: "University of Liverpool",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "Airbot",
        primary: "0.3422",
        metric1: "0.0000",
        metric2: "57.4930",
        country: "CN",
        institution: "Tsinghua University<br>清华大学",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "jxu98",
        primary: "0.3293",
        metric1: "0.0000",
        metric2: "68.3080",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "Chonghao",
        primary: "0.3284",
        metric1: "0.0000",
        metric2: "67.7536",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: false,
        links: ""
    },
    {
        team: "C2AD_DriveLM",
        primary: "0.2868",
        metric1: "0.0000",
        metric2: "58.7814",
        country: "-",
        institution: "-",
        award: "blank",
        disqualified: true,
        links: ""
    }
];


let track6sortDirection = "asc";
track6data.sort((a, b) => b.primary - a.primary);
index = 0
track6data.forEach((item, xxx) => {
    if (item.disqualified) {
        item.rank = "*";
    } else {
        item.rank = index + 1;
        index = index + 1;
    }
});



let track6currentPage = 1;
let track6pageSize = 10;
let track6sortColumn = null;



function track6render() {
    const track6tableBody = document.getElementById("track6table");
    track6tableBody.innerHTML = "";
    track6data.slice((track6currentPage - 1) * track6pageSize, track6currentPage * track6pageSize).forEach((item, index) => {
        const row = document.createElement("tr");
        row.innerHTML = `
            <td>${item.rank} <img src="/assets/icon/${item.award}.png" class="inlineimg"/></td>
            <td><img src="/assets/flags/${item.country}.svg" class="inlineimg"/> ${item.country}</td>
            <td>${item.institution}</td>
            <td><b>${item.primary}</b></td>
            <td>${item.team}</td>
            <td>${item.links}</td>
            <td>${item.metric1}</td>
            <td>${item.metric2}</td>
        `;
        track6tableBody.appendChild(row);
    });
    document.getElementById("track6pages").innerHTML = `<b>${track6currentPage} / ${Math.ceil(track6data.length / track6pageSize)}</b>`;

    if (window.innerWidth < 1024) {
        document.getElementById("track6tablefoot").style.width = document.getElementById("track6table").offsetWidth;
    }
}



function track6sort(columnIndex, columnKey) {
    if (track6sortColumn === columnKey) {
        track6sortDirection = track6sortDirection === "asc" ? "desc" : "asc";
    } else {
        track6sortColumn = columnKey;
        track6sortDirection = "asc";
    }
    track6updateSortIcons(columnIndex);
    track6data.sort((a, b) => {
        if (track6sortDirection === "asc") {
            return a[columnKey] - b[columnKey];
        } else {
            return b[columnKey] - a[columnKey];
        }
    });
    track6currentPage = 1;
    track6render();
}



function track6updateSortIcons(columnIndex) {
    const sortIcons = document.querySelectorAll(".track6button");
    sortIcons.forEach((icon, index) => {
        if (index === columnIndex) {
            if (track6sortDirection === "asc") {
                icon.innerHTML = icon.innerHTML.replace("&nbsp;&nbsp;&nbsp;", "▲");
                icon.innerHTML = icon.innerHTML.replace("▼", "▲");
            } else {
                icon.innerHTML = icon.innerHTML.replace("&nbsp;&nbsp;&nbsp;", "▼");
                icon.innerHTML = icon.innerHTML.replace("▲", "▼");
            }
        } else {
            icon.innerHTML = icon.innerHTML.replace("▼", "&nbsp;&nbsp;&nbsp;");
            icon.innerHTML = icon.innerHTML.replace("▲", "&nbsp;&nbsp;&nbsp;");
        }
    });
}



function track6previous() {
    if (track6currentPage > 1) {
        track6currentPage--;
        track6render();
    }
}



function track6next() {
    if (track6currentPage < Math.ceil(track6data.length / track6pageSize)) {
        track6currentPage++;
        track6render();
    }
}
